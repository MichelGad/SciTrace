# SciTrace - Research Data Lineage Platform

**Version 0.1.0** | **Released: September 2025**

A modern, production-ready web-based platform for managing research data workflows with comprehensive DataLad integration, interactive dataflow visualization, and advanced project management. SciTrace provides researchers with powerful tools to track, manage, and restore their data through an intuitive web interface.

## ‚ú® Key Features

### üìä Data Management & DataLad Integration
- **Full DataLad Integration**: Seamless integration with DataLad for robust data versioning and management
- **Interactive Dataflow Visualization**: Click on nodes to view metadata, access files, and explore data relationships
- **File Management**: View file content directly in the browser or download files with one click
- **Enhanced File Operations**: Robust file path handling and reliable file addition to DataLad datasets
- **Automatic Dataset Creation**: New dataflows automatically create properly structured DataLad datasets using `datalad create`
- **Research Type Selection**: Choose from Environmental, Biomedical, Computational, or General research structures
- **Professional Directory Organization**: Automatic creation of `raw_data`, `scripts`, `results`, and `plots` directories
- **File Explorer Integration**: Open file locations in your system file explorer directly from the web interface
- **File Restoration**: Restore deleted files from previous commits with enhanced error handling and debugging
- **Web-based DataLad Operations**: Save files and commit changes directly through the web interface - no terminal required
- **Stage Management**: Save entire stages with custom commit messages through the web interface
- **Data Validation**: Basic file format validation and comprehensive metadata management
- **Direct DataLad Access**: Execute DataLad commands through the web interface
- **Commit History Management**: View and manage file commit history through the web interface
- **Git Log Visualization**: Interactive git log view with unified single-tab interface, real file diff support, and tree visualization
- **Real-time Updates**: Dataflow visualization automatically reflects all DataLad changes in real-time

### üë• Project & Task Management
- **Project Management**: Create and manage research projects with collaborator support
- **Task Tracking**: Track tasks, deadlines, and progress for research projects
- **User Authentication**: Secure login system with role-based access control
- **Dashboard Overview**: Comprehensive statistics and quick access to key functions
- **Project Access Control**: User-based project permissions and access management

### üõ†Ô∏è Development & Debugging Tools
- **Data Reset Tools**: Comprehensive tools for development and testing environments with complete filesystem cleanup
- **Page-Specific Reset**: Individual reset options for projects, tasks, and dataflows
- **Demo Environment**: Quick setup with sample research data for testing and exploration
- **Debug Endpoints**: Built-in debugging tools for troubleshooting DataLad and git operations
- **Enhanced Error Handling**: Clear error messages with debugging information and suggestions
- **Web-based Shutdown**: One-click Flask application shutdown via web interface with confirmation dialog

### üîç Git Log & Version Control Features
- **Unified Interface**: Single-tab design combining commit information and file changes
- **Real File Diffs**: Actual Git diff content with proper syntax highlighting and formatting
- **Tree Visualization**: Interactive commit tree showing branching and merging patterns
- **Streamlined Layout**: Single-line commit display with avatar, author, hash, date, and message
- **Smart File Tree**: Left panel showing changed files with status indicators (added, modified, deleted)
- **Live Diff View**: Right panel displaying real-time file differences as you select files
- **Enhanced Actions**: Right-aligned Copy Hash and Revert buttons for better UX
- **No Duplication**: Eliminated redundant information display for cleaner interface

## üöÄ Quick Start

### üìã Prerequisites
1. **Python**: Python 3.8 or higher
2. **pip**: Python package installer (usually comes with Python)

### üîß DataLad Installation

SciTrace requires DataLad for data management functionality. DataLad is a data management tool, so we recommend installing it wherever you'll be working with actual data. This may not be your laptop, but a server that you connect to with your laptop. In that case, please consider installing DataLad on that server. Installation on such systems does not require administrator privileges and works with regular user accounts.

#### Step 1: DataLad needs Git

Many systems have Git already installed. Try running `git --version` in a terminal to check.

If you do not have Git installed, visit https://git-scm.com/downloads, pick your operating system, download, and run the Git installer.

If you are using Conda, Brew, or a system with another package manager, there are simpler ways to install Git, and you likely know how.

#### Step 2: Install UV

UV is a smart little helper that is available for all platforms and offers the simplest way to install DataLad. DataLad is written in Python and UV takes care of automatically creating the right environment for DataLad to run, whether or not you know or have Python already.

Visit https://docs.astral.sh/uv/getting-started/installation/#standalone-installer and run the standalone installer. Experts can also use any other method listed on that page.

#### Step 3: Install git-annex

With UV installed, you can now install the git-annex software, a core tool that DataLad builds upon. Run:

```bash
uv tool install git-annex
```

Afterwards run:

```bash
git annex version
```

to verify that you have a functional installation.

#### Step 4: Install DataLad

DataLad is installed exactly like git-annex. However, we also install a particular DataLad extension package, like so:

```bash
uv tool install datalad --with datalad-container --with-executables-from datalad-next
git config --global --add datalad.extensions.load next
```

Verify the installation by running:

```bash
datalad wtf
```

(it should report all kinds of information on your system).

### ‚öôÔ∏è SciTrace Installation
1. **Clone the repository**:
   ```bash
   git clone https://codeberg.org/MichelGad/SciTrace.git
   cd SciTrace
   ```

2. **Run the installation script**:

   **macOS/Linux**:
   ```bash
   chmod +x install.sh
   ./install.sh
   ```

   **Windows**:
   ```bash
   bash install.sh
   ```

   The installation script will:
   - Check for Python 3.8+ and pip
   - Create a virtual environment
   - Install all dependencies from `requirements.txt`
   - Initialize the database
   - Provide startup instructions

3. **Start the application**:
   ```bash
   source venv/bin/activate
   python run.py
   ```

4. Access at `http://localhost:5001`

### üõë Stopping the Flask Application

There are multiple ways to stop the Flask application:

#### üåê **Web Interface (Recommended)**
- **Shutdown Button**: Click the red power button (‚ö°) in the top navigation bar next to your user profile
- **Confirmation**: A dialog will ask for confirmation before shutting down
- **Automatic**: Uses the `stop_flask.py` script automatically
- **User-Friendly**: No terminal commands required

#### üíª **Command Line**
If you need to stop the Flask application from the terminal (for example, when you get an "Address already in use" error), you can use the provided `stop_flask.py` script:

```bash
python3 stop_flask.py
```

This script will:
- Automatically find any process running on port 5001
- Stop it without requiring manual port checking
- Provide feedback about what it's doing

**Alternative**: You can also manually stop the process by finding the PID and killing it:
```bash
lsof -ti:5001 | xargs kill
```

## üîë Default Login
- **Username**: `admin`
- **Password**: `admin123`

## üéØ Demo Setup

To quickly explore SciTrace with sample data, you can set up a focused demo environment using the DataLad-based demo system:

1. **Start SciTrace**: Run `python run.py` and access the application
2. **Login**: Use admin/admin123 credentials
3. **Click "Load Demo Projects"**: Use the button in the dashboard
4. **Automatic Setup**: The system will create 1 Environmental Water Quality Research dataset automatically

This creates **1 comprehensive Environmental Water Quality Research dataset** with proper DataLad integration:

### üåä **Environmental Water Quality Research Dataset**
- **Structure**: Water quality parameters, environmental monitoring data
- **Files**: Data cleaning scripts, statistical analysis, visualization tools
- **Creation**: `datalad create` (simple, clean dataset without nested subdatasets)
- **Focus**: Comprehensive water quality analysis across multiple sampling sites

### üöÄ **What You Get**
- **Professional Research Structure**: Realistic environmental research directory organization
- **Sample Scripts**: Python and R scripts for water quality data analysis
- **DataLad Integration**: Full version control and data lineage tracking
- **Interactive Visualization**: Ready-to-explore environmental dataflow in SciTrace
- **Demo Badges**: Clear identification of demo project throughout the interface

The demo dataset is created in `~/scitrace_demo_datasets/` and provides a comprehensive testing environment for all SciTrace features focused on environmental research.

## üìñ Usage Guide

### üìÅ Creating a Project
1. Log in to the application
2. Click "Create Project" from the dashboard
3. Fill in project details (name, description, collaborators)
4. The project will be created in the database and ready for use

### üîÑ Creating Dataflows
1. Navigate to the "Dataflows" section
2. Click "Create Dataflow"
3. Select a project and choose storage location
4. The system will automatically create a DataLad dataset and generate an interactive visualization

### üîç Interactive Dataflow Exploration
1. View the dataflow as an interactive diagram with color-coded nodes
2. Click on nodes to view metadata, file content, or download files
3. Access files directly in the browser or download them
4. Explore metadata including file sizes, modification dates, and tracking status
5. Open file locations in your system file explorer with one click

### üìú Git Log Visualization
1. Access the git log from any dataflow via the "Git Log" button
2. View commit history in a beautiful timeline format with tree visualization
3. **Unified Single-Tab Interface**: Combined commit information and file changes in one view
4. **Real File Diff Support**: View actual Git diff content instead of placeholder text
5. **Single-Line Commit Display**: Clean format showing avatar, author, hash, date, and message
6. **Right-Aligned Actions**: Copy Hash and Revert buttons positioned on the right side
7. **Interactive File Tree**: Left panel showing changed files with status indicators
8. **Live Diff View**: Right panel displaying real-time file differences
9. **Enhanced UX**: No duplicate information, streamlined interface, better space utilization
10. **Advanced Git Operations**: 
    - **Copy Hash**: Copy commit hash to clipboard
    - **View Files**: See exactly what files were modified in each commit
    - **Revert Commit**: Undo changes by creating a revert commit

### üìé Adding and Managing Files
1. **Web Interface**: Use the built-in DataLad save functionality directly in the web app
2. **Stage Management**: Save entire stages with commit messages through the web interface
3. **Automatic Updates**: The dataflow visualization automatically reflects all changes
4. **Terminal Alternative**: You can also use DataLad commands in your terminal if preferred

### üîÑ File Restoration
1. Identify deleted files in the dataflow visualization (marked with red indicators)
2. Click the restore button to view available commits
3. Select the commit to restore from
4. The system automatically restores the file and commits the change
5. Enhanced error handling provides clear feedback for any issues

### üîÑ Resetting Data
- Dashboard: "Reset All Data" button in the user profile dropdown
- Projects Page: "Reset Projects" button
- Tasks Page: "Reset Tasks" button
- Dataflows Page: "Reset Dataflows" button

**Warning**: Reset functionality permanently deletes all projects, dataflows, tasks, and their associated DataLad dataset directories.

## üèóÔ∏è Architecture

### ‚öôÔ∏è Backend
- **Flask Web Framework**: Modern web framework with blueprint architecture
- **SQLAlchemy ORM**: Robust database management with relationship handling
- **Flask-Login**: Secure user authentication and session management
- **Modular Service Architecture**: Separated DataLad and project services for better maintainability
- **Modular API Architecture**: Organized API endpoints into focused modules for improved maintainability
- **Enhanced Error Handling**: Comprehensive error reporting and debugging capabilities

### üé® Frontend
- **Bootstrap 5**: Modern, responsive design framework
- **Font Awesome Icons**: Clean, professional iconography
- **Vis.js**: Advanced network visualization for dataflows
- **jQuery**: JavaScript utilities and AJAX integration

### üóÑÔ∏è Database Models
- **User**: User accounts, authentication, and profile management
- **Project**: Research projects with metadata and collaborator support
- **Task**: Project tasks with deadlines, status tracking, and priority management
- **Dataflow**: Visual workflow representations with interactive capabilities

## üîó DataLad Integration

SciTrace provides comprehensive DataLad integration:

- **Automatic Dataset Creation**: New dataflows automatically create properly structured DataLad datasets
- **File Tree Visualization**: Complete dataset structure with metadata and tracking status
- **Dataflow Generation**: Automatic visualization creation from dataset structure
- **File Content Serving**: View and download files directly through the web interface
- **Metadata Management**: Comprehensive file metadata exploration and management
- **Dynamic File System Integration**: Real-time updates reflecting all DataLad changes
- **Web-based Operations**: All DataLad operations available through the web interface

## üõ†Ô∏è Development

### üìÅ Project Structure

SciTrace follows a modern, modular architecture designed for scalability and maintainability:

```
SciTrace/
‚îú‚îÄ‚îÄ üìÑ Core Application Files
‚îÇ   ‚îú‚îÄ‚îÄ run.py                    # üöÄ Application entry point - starts Flask server
‚îÇ   ‚îú‚îÄ‚îÄ install.sh               # ‚öôÔ∏è Automated installation script for all platforms
‚îÇ   ‚îú‚îÄ‚îÄ stop_flask.py            # üõë Graceful Flask application shutdown utility
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt         # üì¶ Python dependencies and versions
‚îÇ   ‚îú‚îÄ‚îÄ setup_demo_datalad.py   # üéØ DataLad-based demo environment setup
‚îÇ   ‚îú‚îÄ‚îÄ reset_data.py           # üîÑ Development data reset utilities
‚îÇ   ‚îú‚îÄ‚îÄ LICENSE                 # üìú Apache License 2.0
‚îÇ   ‚îú‚îÄ‚îÄ README.md               # üìñ Main project documentation
‚îÇ   ‚îî‚îÄ‚îÄ server.log              # üìä Application runtime logs
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Documentation & Resources
‚îÇ   ‚îú‚îÄ‚îÄ docs/                   # üìö Comprehensive documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ README.md           # Main documentation hub
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CHANGELOG.md        # Version history and changes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                # API documentation
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ README.md       # Complete API reference
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CHANGELOG.md    # API version history
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ error-handling.md # Error handling guide
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user-guide/         # User documentation
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ quick-start.md  # Getting started guide
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features.md     # Feature overview
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project-management.md # Project management guide
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ datalad-integration.md # DataLad integration guide
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ developer/          # Developer documentation
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ architecture.md # System architecture
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md       # Development setup
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ installation/       # Installation guides
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deployment/         # Deployment documentation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contributing/       # Contribution guidelines
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ troubleshooting/    # FAQ and troubleshooting
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ glossary.md         # Technical terms and definitions
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ demo_scripts/           # üé≠ Sample analysis scripts
‚îÇ       ‚îú‚îÄ‚îÄ sample_analysis.py  # Python analysis example
‚îÇ       ‚îú‚îÄ‚îÄ sample_analysis.R   # R analysis example
‚îÇ       ‚îú‚îÄ‚îÄ sample_data.csv     # Sample dataset
‚îÇ       ‚îî‚îÄ‚îÄ sample_r_data.csv   # R-specific sample data
‚îÇ
‚îú‚îÄ‚îÄ üóÑÔ∏è Data & Configuration
‚îÇ   ‚îú‚îÄ‚îÄ instance/               # üíæ Instance-specific data
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scitrace.db        # SQLite database file
‚îÇ   ‚îî‚îÄ‚îÄ venv/                   # üêç Python virtual environment
‚îÇ
‚îî‚îÄ‚îÄ üèóÔ∏è Main Application Package (scitrace/)
    ‚îú‚îÄ‚îÄ üìÑ Core Application
    ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Package initialization
    ‚îÇ   ‚îú‚îÄ‚îÄ app.py              # üè≠ Flask application factory
    ‚îÇ   ‚îú‚îÄ‚îÄ models.py           # üóÉÔ∏è Database models and relationships
    ‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py       # ‚ö†Ô∏è Custom exception definitions
    ‚îÇ
    ‚îú‚îÄ‚îÄ ‚öôÔ∏è Configuration Management
    ‚îÇ   ‚îî‚îÄ‚îÄ config/             # üîß Application configuration
    ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py     # Config package initialization
    ‚îÇ       ‚îú‚îÄ‚îÄ config.py       # Main configuration settings
    ‚îÇ       ‚îî‚îÄ‚îÄ settings.py     # Environment-specific settings
    ‚îÇ
    ‚îú‚îÄ‚îÄ üèõÔ∏è Repository Layer (Data Access)
    ‚îÇ   ‚îî‚îÄ‚îÄ repositories/       # üìä Data access layer
    ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py     # Repository package initialization
    ‚îÇ       ‚îú‚îÄ‚îÄ base_repository.py     # üèóÔ∏è Base repository with common operations
    ‚îÇ       ‚îú‚îÄ‚îÄ user_repository.py     # üë§ User data access
    ‚îÇ       ‚îú‚îÄ‚îÄ project_repository.py  # üìÅ Project data access
    ‚îÇ       ‚îú‚îÄ‚îÄ task_repository.py     # ‚úÖ Task data access
    ‚îÇ       ‚îî‚îÄ‚îÄ dataflow_repository.py # üîÑ Dataflow data access
    ‚îÇ
    ‚îú‚îÄ‚îÄ üîß Service Layer (Business Logic)
    ‚îÇ   ‚îî‚îÄ‚îÄ services/           # üéØ Business logic and operations
    ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py     # Services package initialization
    ‚îÇ       ‚îú‚îÄ‚îÄ base_service.py         # üèóÔ∏è Base service with common functionality
    ‚îÇ       ‚îú‚îÄ‚îÄ project_service.py      # üìÅ Project management services
    ‚îÇ       ‚îú‚îÄ‚îÄ project_management.py   # üìã Project lifecycle management
    ‚îÇ       ‚îú‚îÄ‚îÄ dataset_creation.py     # üÜï Dataset creation and initialization
    ‚îÇ       ‚îú‚îÄ‚îÄ dataset_integration.py  # üîó Dataset integration and management
    ‚îÇ       ‚îú‚îÄ‚îÄ file_operations.py      # üìÑ File operations and management
    ‚îÇ       ‚îú‚îÄ‚îÄ git_operations.py       # üåø Git operations and version control
    ‚îÇ       ‚îî‚îÄ‚îÄ metadata_operations.py  # üìä Metadata management and operations
    ‚îÇ
    ‚îú‚îÄ‚îÄ üõ†Ô∏è Utility Layer
    ‚îÇ   ‚îî‚îÄ‚îÄ utils/              # üîß Utility functions and helpers
    ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py     # Utils package initialization
    ‚îÇ       ‚îú‚îÄ‚îÄ api_validation.py       # ‚úÖ API request validation
    ‚îÇ       ‚îú‚îÄ‚îÄ auth_helpers.py         # üîê Authentication helper functions
    ‚îÇ       ‚îú‚îÄ‚îÄ datalad_utils.py        # üì¶ DataLad operation utilities
    ‚îÇ       ‚îú‚îÄ‚îÄ file_utils.py           # üìÑ File system utilities
    ‚îÇ       ‚îú‚îÄ‚îÄ flash_utils.py          # üí¨ Flash message utilities
    ‚îÇ       ‚îú‚îÄ‚îÄ logging_utils.py        # üìä Logging configuration
    ‚îÇ       ‚îú‚îÄ‚îÄ path_validation.py      # üõ°Ô∏è Path validation and security
    ‚îÇ       ‚îú‚îÄ‚îÄ response_utils.py       # üì§ API response formatting
    ‚îÇ       ‚îî‚îÄ‚îÄ validation_utils.py     # ‚úÖ General validation utilities
    ‚îÇ
    ‚îú‚îÄ‚îÄ üåê Route Layer (Web Interface)
    ‚îÇ   ‚îî‚îÄ‚îÄ routes/             # üõ£Ô∏è Web routes and API endpoints
    ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py     # Routes package initialization
    ‚îÇ       ‚îú‚îÄ‚îÄ auth.py         # üîê Authentication routes (login, register)
    ‚îÇ       ‚îú‚îÄ‚îÄ dashboard.py    # üìä Dashboard and overview routes
    ‚îÇ       ‚îú‚îÄ‚îÄ projects.py     # üìÅ Project management routes
    ‚îÇ       ‚îú‚îÄ‚îÄ dataflow.py     # üîÑ Dataflow visualization routes
    ‚îÇ       ‚îú‚îÄ‚îÄ tasks.py        # ‚úÖ Task management routes
    ‚îÇ       ‚îú‚îÄ‚îÄ api_old.py      # üìú Legacy API (backward compatibility)
    ‚îÇ       ‚îî‚îÄ‚îÄ api/            # üöÄ Modern modular API endpoints
    ‚îÇ           ‚îú‚îÄ‚îÄ __init__.py     # API package initialization
    ‚îÇ           ‚îú‚îÄ‚îÄ admin_api.py     # üëë Admin operations and demo setup
    ‚îÇ           ‚îú‚îÄ‚îÄ dataflow_api.py  # üîÑ Dataflow-related API endpoints
    ‚îÇ           ‚îú‚îÄ‚îÄ file_api.py      # üìÑ File operations API endpoints
    ‚îÇ           ‚îú‚îÄ‚îÄ git_api.py       # üåø Git operations API endpoints
    ‚îÇ           ‚îî‚îÄ‚îÄ project_api.py   # üìÅ Project-related API endpoints
    ‚îÇ
    ‚îú‚îÄ‚îÄ üé® Frontend Assets
    ‚îÇ   ‚îú‚îÄ‚îÄ assets/             # üì¶ Third-party assets
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ js/             # JavaScript libraries
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vis.min.js  # Vis.js network visualization library
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ css/            # CSS libraries
    ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ vis.min.css # Vis.js styling
    ‚îÇ   ‚îÇ
    ‚îÇ   ‚îî‚îÄ‚îÄ static/             # üé® Custom static assets
    ‚îÇ       ‚îú‚îÄ‚îÄ css/            # Custom stylesheets
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ utils/      # Modular CSS utilities
    ‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ colors.css        # Color scheme definitions
    ‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ components.css    # Reusable component styles
    ‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ error-boundaries.css # Error handling styles
    ‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ layout.css        # Layout and grid systems
    ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ scitrace-utils.css # SciTrace-specific utilities
    ‚îÇ       ‚îî‚îÄ‚îÄ js/             # Custom JavaScript
    ‚îÇ           ‚îî‚îÄ‚îÄ utils/      # Modular JavaScript utilities
    ‚îÇ               ‚îú‚îÄ‚îÄ api.js             # API communication utilities
    ‚îÇ               ‚îú‚îÄ‚îÄ error-handling.js  # Client-side error handling
    ‚îÇ               ‚îú‚îÄ‚îÄ forms.js           # Form validation and handling
    ‚îÇ               ‚îú‚îÄ‚îÄ scitrace-utils.js  # SciTrace-specific utilities
    ‚îÇ               ‚îú‚îÄ‚îÄ ui.js              # User interface utilities
    ‚îÇ               ‚îî‚îÄ‚îÄ visualization.js   # Dataflow visualization logic
    ‚îÇ
    ‚îî‚îÄ‚îÄ üìÑ Templates (HTML Views)
        ‚îî‚îÄ‚îÄ templates/          # üñºÔ∏è HTML templates and views
            ‚îú‚îÄ‚îÄ base.html       # üèóÔ∏è Base template with responsive design
            ‚îú‚îÄ‚îÄ auth/           # üîê Authentication templates
            ‚îÇ   ‚îú‚îÄ‚îÄ login.html      # User login page
            ‚îÇ   ‚îú‚îÄ‚îÄ register.html   # User registration page
            ‚îÇ   ‚îî‚îÄ‚îÄ profile.html    # User profile management
            ‚îú‚îÄ‚îÄ dashboard/      # üìä Dashboard templates
            ‚îÇ   ‚îî‚îÄ‚îÄ index.html      # Main dashboard view
            ‚îú‚îÄ‚îÄ projects/       # üìÅ Project management templates
            ‚îÇ   ‚îú‚îÄ‚îÄ index.html      # Project listing
            ‚îÇ   ‚îú‚îÄ‚îÄ create.html     # Project creation form
            ‚îÇ   ‚îú‚îÄ‚îÄ edit.html       # Project editing form
            ‚îÇ   ‚îú‚îÄ‚îÄ view.html       # Project detail view
            ‚îÇ   ‚îî‚îÄ‚îÄ create_task.html # Task creation form
            ‚îú‚îÄ‚îÄ tasks/          # ‚úÖ Task management templates
            ‚îÇ   ‚îú‚îÄ‚îÄ index.html      # Task listing
            ‚îÇ   ‚îú‚îÄ‚îÄ create.html     # Task creation form
            ‚îÇ   ‚îú‚îÄ‚îÄ edit.html       # Task editing form
            ‚îÇ   ‚îî‚îÄ‚îÄ view.html       # Task detail view
            ‚îú‚îÄ‚îÄ dataflow/       # üîÑ Dataflow visualization templates
            ‚îÇ   ‚îú‚îÄ‚îÄ index.html      # Dataflow listing
            ‚îÇ   ‚îú‚îÄ‚îÄ create.html     # Dataflow creation form
            ‚îÇ   ‚îú‚îÄ‚îÄ edit.html       # Dataflow editing form
            ‚îÇ   ‚îú‚îÄ‚îÄ view.html       # Interactive dataflow visualization
            ‚îÇ   ‚îú‚îÄ‚îÄ lifecycle.html  # Data lifecycle conceptual view
            ‚îÇ   ‚îî‚îÄ‚îÄ git_log.html    # Git log visualization interface
            ‚îî‚îÄ‚îÄ partials/       # üß© Reusable template components
                ‚îú‚îÄ‚îÄ _demo_badge.html        # Demo project indicators
                ‚îú‚îÄ‚îÄ _demo_info_alert.html   # Demo information alerts
                ‚îú‚îÄ‚îÄ _empty_state.html       # Empty state placeholders
                ‚îú‚îÄ‚îÄ _empty_state_error.html # Error state placeholders
                ‚îú‚îÄ‚îÄ _error_boundary.html    # Error boundary components
                ‚îú‚îÄ‚îÄ _form_error.html        # Form error displays
                ‚îú‚îÄ‚îÄ _loading_error.html     # Loading error displays
                ‚îú‚îÄ‚îÄ _priority_badge.html    # Task priority indicators
                ‚îú‚îÄ‚îÄ _project_card.html      # Project card components
                ‚îú‚îÄ‚îÄ _stats_card.html        # Statistics display cards
                ‚îú‚îÄ‚îÄ _status_badge.html      # Status indicators
                ‚îî‚îÄ‚îÄ _task_row.html          # Task row components
```

### üèóÔ∏è Architecture Overview

SciTrace follows a **layered architecture** with clear separation of concerns:

#### üîÑ **Data Flow Architecture**
1. **üåê Frontend Layer**: Templates + Static Assets (User Interface)
2. **üõ£Ô∏è Route Layer**: Web routes and API endpoints (Request Handling)
3. **üîß Service Layer**: Business logic and operations (Core Functionality)
4. **üèõÔ∏è Repository Layer**: Data access and database operations (Data Persistence)
5. **üóÉÔ∏è Model Layer**: Database models and relationships (Data Structure)

#### üéØ **Key Design Principles**
- **üì¶ Modular Design**: Each component has a single responsibility
- **üîÑ Separation of Concerns**: Clear boundaries between layers
- **üõ°Ô∏è Security First**: Path validation and input sanitization
- **üìä Comprehensive Logging**: Detailed logging for debugging and monitoring
- **üé® Responsive UI**: Modern, mobile-friendly interface
- **üîß Extensible**: Easy to add new features and modules

## üÜï Version 0.1.0 - Stable Release

### üèóÔ∏è Production-Ready Architecture
SciTrace 0.1.0 features a modern, modular architecture designed for production use:

#### ‚ú® **Modular API Structure**
- **Focused API Modules**: Specialized modules for different functionality:
  - `dataflow_api.py`: Dataflow-related operations and file management
  - `git_api.py`: Git operations, commit history, and version control
  - `file_api.py`: File operations, directory browsing, and file management
  - `admin_api.py`: Demo setup, system operations, and data reset
  - `project_api.py`: Project-related operations and management
- **Improved Maintainability**: Each API module focuses on specific functionality
- **Better Code Organization**: Clear separation of concerns and responsibilities
- **Enhanced Error Handling**: Specialized error handling for each API domain

#### üîß **Enhanced Service Layer**
- **Modular Services**: Organized service layer with specialized modules:
  - `FileOperationsService`: File management and DataLad integration
  - `GitOperationsService`: Git operations and version control
  - `ProjectManagementService`: Project lifecycle management
  - `DatasetCreationService`: Dataset initialization and setup
  - `MetadataOperationsService`: Metadata management and operations
- **Base Service Class**: Common functionality shared across all services
- **Utility Modules**: Comprehensive utility layer for validation, authentication, and operations

#### üõ†Ô∏è **Technical Improvements**
- **Blueprint Architecture**: Proper Flask blueprint organization for scalable routing
- **Service-Oriented Design**: Clean separation between API endpoints and business logic
- **Enhanced Error Handling**: Comprehensive error reporting with debugging information
- **Improved File Path Handling**: Fixed file path construction issues for better reliability
- **Robust DataLad Integration**: Enhanced DataLad operations with proper error handling

#### üéØ **Benefits of Production Architecture**
- **Maintainability**: Easier to maintain and extend individual components
- **Scalability**: Modular design supports future feature additions
- **Debugging**: Clear separation makes troubleshooting more efficient
- **Testing**: Individual modules can be tested in isolation
- **Code Reusability**: Services can be reused across different API endpoints
- **Performance**: Optimized error handling and response formatting

#### üêõ **Stability Improvements**
- **File Path Construction Fix**: Resolved "File does not exist" errors when adding files to DataLad
- **Enhanced File Operations**: Improved file path handling using actual directory names vs display names
- **Robust DataLad Integration**: Fixed symbolic link handling for script execution
- **Improved Error Messages**: Better error reporting and debugging information
- **Enhanced Reset Functionality**: Comprehensive dataset cleanup including filesystem removal

## üó∫Ô∏è Roadmap

### Version 1.1 - Enhanced User Experience (Planned)

#### üì§ Direct Data Upload & Management
- **Drag & Drop Interface**: Upload files and datasets directly through the web interface
- **Batch Upload**: Support for multiple file uploads with progress tracking
- **Data Validation**: Automatic validation of uploaded data formats and structures
- **Storage Management**: Integrated storage management with DataLad datasets
- **Custom Project Location**: Choose where to set up your project on your local drive for better organization

#### üîß Interactive Code Execution
- **Built-in Code Editor**: Web-based code editor with syntax highlighting
- **DataLad Function Integration**: Direct access to DataLad commands through the interface
- **Script Management**: Create, edit, and manage Python/R scripts within projects
- **Execution Environment**: Secure code execution environment with resource monitoring

#### üìä Enhanced Visualization & Reporting
- **Real-time Dataflow Updates**: Live updates to dataflow visualization as code executes
- **Execution Graphs**: Visual representation of code execution and data transformations
- **Interactive Reports**: Generate and export comprehensive research reports
- **Collaborative Features**: Real-time collaboration on research workflows
- **Data Lifecycle Visualization**: Interactive view of data through its complete lifecycle  


#### üîê Advanced Security & Access Control
- **Role-based Permissions**: Granular access control for different user roles
- **Execution Sandboxing**: Secure code execution with resource limits
- **Audit Logging**: Comprehensive logging of all user actions and code executions
- **Data Encryption**: Enhanced security for sensitive research data

### Future Enhancements
- **AI-Powered Insights**: Machine learning recommendations for data analysis
- **Integration APIs**: RESTful APIs for external tool integration
- **Cloud Deployment**: Multi-cloud deployment options
- **Advanced Analytics**: Built-in statistical analysis and visualization tools

## ü§ù Contributing
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## üìÑ License

This project is licensed under the Apache License 2.0 - see the LICENSE file for details.

## üÜò Support

For support and questions:
- Create an issue in the repository
- Contact me

## üôè Acknowledgments
- Built on top of **DataLad** for robust data management
- Inspired by modern research data management needs
- Uses open-source libraries and frameworks
- Designed for researchers and data scientists

---

**SciTrace 0.1.0** - *Released September 2025* | *Production Ready*